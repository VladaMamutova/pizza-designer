webpackJsonp([1],{NHnr:function(i,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("7+uW"),r=t("BO1k"),s=t.n(r),a=t("ifoU"),o=t.n(a),c=new n.a,d={name:"category-tabs",data:function(){return{tabs:[{id:1,caption:"Мясо"},{id:2,caption:"Овощи"},{id:3,caption:"Сыры"}],selectedTab:1}},methods:{selectTab:function(i){this.selectedTab=i,c.$emit("category-selected",this.selectedTab)}}},g={render:function(){var i=this,e=i.$createElement,t=i._self._c||e;return t("ul",i._l(i.tabs,function(e){return t("li",{key:e.id,staticClass:"tab",class:{"active-tab":i.selectedTab===e.id},on:{click:function(t){return i.selectTab(e.id)}}},[t("a",[i._v(i._s(e.caption))])])}),0)},staticRenderFns:[]};var p=t("VU/8")(d,g,!1,function(i){t("p31X")},"data-v-09a86380",null).exports,m={name:"ingredient-card",props:{ingredient:{type:Object,required:!0},portionCount:{type:Number,required:!0}},methods:{removeIngredient:function(){c.$emit("ingredient-removed",this.ingredient.id)},updatePortionCount:function(){c.$emit("ingredient-updated",this.ingredient.id)}}},u={render:function(){var i=this,e=i.$createElement,n=i._self._c||e;return n("div",{staticClass:"ingredient-item",on:{click:function(e){return i.updatePortionCount()}}},[n("div",{staticClass:"ingredient-view",class:{"selected-view":i.ingredient.hasInOrder}},[n("img",{staticClass:"ingredient-icon",attrs:{src:i.ingredient.icon}}),i._v(" "),n("span",[i._v(" "+i._s(i.ingredient.price)+" ₽")])]),i._v(" "),n("div",{staticClass:"ingredient-info",class:{"selected-info":i.ingredient.hasInOrder}},[n("div",{staticClass:"main-info"},[n("b",[i._v(i._s(i.ingredient.name))]),i._v(" "),n("span",{staticClass:"portion"},[i._v(" "+i._s(i.ingredient.portion)+" г")])]),i._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:i.ingredient.hasInOrder,expression:"ingredient.hasInOrder"}],staticClass:"summary-info"},[n("img",{attrs:{src:t("mTJe")},on:{click:function(e){return e.stopPropagation(),i.removeIngredient()}}}),i._v(" "),n("div",{staticClass:"portion-count"},[i._v("×"+i._s(i.portionCount))])])])])},staticRenderFns:[]};var l={name:"App",components:{CategoryTabs:p,IngredientCard:t("VU/8")(m,u,!1,function(i){t("dKuR")},"data-v-b72438ee",null).exports},data:function(){return{categoryId:1,pizzaBase:{weight:300,price:150},pizzaIngredients:[{id:1,tabId:3,name:'Сыр "Пармезан"',price:99,portion:70,hasInOrder:!1,img:"../static/images/constructor/parmesan.png",icon:"../static/images/icons/parmesan.jpg"},{id:2,tabId:1,name:"Ветчина",price:50,portion:50,hasInOrder:!1,img:"../static/images/constructor/ham.png",icon:"../static/images/icons/ham.jpg"},{id:3,tabId:1,name:"Бекон",price:65,portion:50,hasInOrder:!1,img:"../static/images/constructor/bacon.png",icon:"../static/images/icons/bacon.jpg"},{id:4,tabId:1,name:"Куриное филе копчёное",price:69,portion:50,hasInOrder:!1,img:"../static/images/constructor/chicken-fillet.png",icon:"../static/images/icons/chicken-fillet.jpg"},{id:5,tabId:1,name:"Салями",price:79,portion:50,hasInOrder:!1,img:"../static/images/constructor/salami.png",icon:"../static/images/icons/salami.jpg"},{id:6,tabId:1,name:"Колбаски охотничьи",price:79,portion:50,hasInOrder:!1,img:"../static/images/constructor/hunting-sausages.png",icon:"../static/images/icons/hunting-sausages.jpg"},{id:7,tabId:2,name:"Помидоры",price:35,portion:50,hasInOrder:!1,img:"../static/images/constructor/tomato.png",icon:"../static/images/icons/tomato.jpg"},{id:8,tabId:2,name:"Перец болгарский",price:45,portion:50,hasInOrder:!1,img:"../static/images/constructor/bell-pepper.png",icon:"../static/images/icons/bell-pepper.jpg"},{id:9,tabId:2,name:"Красный лук",price:30,portion:50,hasInOrder:!1,img:"../static/images/constructor/red-onion.png",icon:"../static/images/icons/red-onion.jpg"},{id:10,tabId:2,name:"Шампиньоны свежие",price:59,portion:50,hasInOrder:!1,img:"../static/images/constructor/champignon.png",icon:"../static/images/icons/champignon.jpg"},{id:11,tabId:2,name:"Ананас",price:39,portion:30,hasInOrder:!1,img:"../static/images/constructor/pineapple.png",icon:"../static/images/icons/pineapple.jpg"},{id:12,tabId:2,name:"Кукуруза",price:39,portion:30,hasInOrder:!1,img:"../static/images/constructor/corn.png",icon:"../static/images/icons/corn.jpg"},{id:13,tabId:3,name:'Сыр "Добрлю"',price:99,portion:70,hasInOrder:!1,img:"../static/images/constructor/dorblu.png",icon:"../static/images/icons/dorblu.jpg"},{id:14,tabId:3,name:'Сыр "Фета"',price:90,portion:70,hasInOrder:!1,img:"../static/images/constructor/feta.png",icon:"../static/images/icons/feta.jpg"},{id:15,tabId:2,name:"Маслины",price:39,portion:30,hasInOrder:!1,img:"../static/images/constructor/olive.png",icon:"../static/images/icons/olive.jpg"},{id:16,tabId:2,name:"Зелень",price:10,portion:5,hasInOrder:!1,img:"../static/images/constructor/greenery.png",icon:"../static/images/icons/greenery.jpg"}],order:{ingredients:new o.a,fullPrice:0,totalWeight:0}}},methods:{updateOrder:function(i){var e=this.pizzaIngredients.findIndex(function(e){return e.id===i});if(-1!==e){var t=0;this.order.ingredients.has(i)&&(t=this.order.ingredients.get(i)),++t>2?this.removeFromOrder(i):(this.order.ingredients.set(i,t),this.pizzaIngredients[e].hasInOrder=!0,this.calcOrderInfo())}},calcOrderInfo:function(){var i=this,e=0,t=0,n=function(n){var r=i.pizzaIngredients.findIndex(function(i){return i.id===n[0]});-1!==r&&(e+=i.pizzaIngredients[r].price*n[1],t+=i.pizzaIngredients[r].portion*n[1])},r=!0,a=!1,o=void 0;try{for(var c,d=s()(this.order.ingredients);!(r=(c=d.next()).done);r=!0){n(c.value)}}catch(i){a=!0,o=i}finally{try{!r&&d.return&&d.return()}finally{if(a)throw o}}this.order.fullPrice=e+this.pizzaBase.price,this.order.totalWeight=t+this.pizzaBase.weight},removeFromOrder:function(i){var e=this.pizzaIngredients.findIndex(function(e){return e.id===i});-1!==e&&this.order.ingredients.has(i)&&(this.order.ingredients.delete(i),this.pizzaIngredients[e].hasInOrder=!1,this.calcOrderInfo())},getPortionCount:function(i){return this.order.ingredients.has(i)?this.order.ingredients.get(i):0}},mounted:function(){var i=this;this.calcOrderInfo(),c.$on("category-selected",function(e){i.categoryId=e}),c.$on("ingredient-updated",function(e){i.updateOrder(e)}),c.$on("ingredient-removed",function(e){i.removeFromOrder(e)})}},A={render:function(){var i=this,e=i.$createElement,t=i._self._c||e;return t("div",{attrs:{id:"app"}},[i._m(0),i._v(" "),t("div",{staticClass:"page-content"},[t("div",{staticClass:"constructor"},i._l(i.pizzaIngredients,function(i){return t("img",{directives:[{name:"show",rawName:"v-show",value:i.hasInOrder,expression:"ingredient.hasInOrder"}],key:i.id,attrs:{src:i.img}})}),0),i._v(" "),t("div",{staticClass:"order"},[t("div",{staticClass:"order-info"},[t("span",[i._v("Ваша пицца содержит:")]),i._v(" "),t("div",{staticClass:"order-item"},[t("span",[i._v("Основа с томатным соусом")]),i._v(" "),t("span",[i._v(i._s(i.pizzaBase.weight)+" г")]),i._v(" "),t("span",[i._v(i._s(i.pizzaBase.price)+" ₽")])]),i._v(" "),i._l(i.pizzaIngredients,function(e){return t("div",{directives:[{name:"show",rawName:"v-show",value:e.hasInOrder,expression:"ingredient.hasInOrder"}],key:e.id,staticClass:"order-item"},[t("span",[i._v(i._s(e.name)+" ×"+i._s(i.getPortionCount(e.id)))]),i._v(" "),t("span",[i._v(i._s(e.portion*i.getPortionCount(e.id))+" г")]),i._v(" "),t("span",[i._v(i._s(e.price*i.getPortionCount(e.id))+" ₽")])])}),i._v(" "),t("div",{staticClass:"order-weight"},[i._v("Общий вес: "+i._s(i.order.totalWeight)+" г")]),i._v(" "),t("div",{staticClass:"order-sum"},[t("b",[i._v("Итого: "+i._s(i.order.fullPrice)+" ₽")])])],2),i._v(" "),t("button",{attrs:{onclick:"alert('Ваш заказ отправлен!'); window.location.reload();"}},[i._v("Заказать")])]),i._v(" "),t("div",{staticClass:"ingredients-menu"},[t("category-tabs"),i._v(" "),t("div",{staticClass:"ingredients-grid"},i._l(i.pizzaIngredients,function(e){return t("ingredient-card",{directives:[{name:"show",rawName:"v-show",value:e.tabId===i.categoryId,expression:"ingredient.tabId === categoryId"}],key:e.id,attrs:{ingredient:e,portionCount:i.getPortionCount(e.id)}})}),1)],1)])])},staticRenderFns:[function(){var i=this.$createElement,e=this._self._c||i;return e("div",{staticClass:"header"},[e("div",{staticClass:"flag"}),this._v(" "),e("header",[this._v('Конструктор пиццы "Создай сам"')]),this._v(" "),e("div",{staticClass:"flag-reversed"})])}]};var v=t("VU/8")(l,A,!1,function(i){t("u3KS")},null,null).exports;n.a.config.productionTip=!1,new n.a({el:"#app",components:{App:v},template:"<App/>"})},dKuR:function(i,e){},mTJe:function(i,e){i.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAASAAAAEgARslrPgAAAGJJREFUSMdjYBgFBAAjIQVXGBjk/jEw7GdgYFBCk3rEwMDgqMfAcI9kCy4xMPwnx7V6WMxjoltY0QrgjANSg0kPh1k0D6JRC0YtGLVguFvwhARzHpNjQRqRljz+D1E7CsgDAKeODnlMJsCQAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTA2LTIzVDA5OjM1OjU3KzAwOjAwwSOlbgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0wNi0yM1QwOTozNTo1NyswMDowMLB+HdIAAAAodEVYdHN2ZzpiYXNlLXVyaQBmaWxlOi8vL3RtcC9tYWdpY2stZmNOME5tTVbt55mlAAAAAElFTkSuQmCC"},p31X:function(i,e){},u3KS:function(i,e){}},["NHnr"]);
//# sourceMappingURL=app.6c4a68b3ccb9f3aee179.js.map